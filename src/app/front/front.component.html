
<div class="container">

  <div>
    <img src="/assets/accountsmachine.png">
  </div>

  <div *ngIf="state == 'normal'">

    <mat-card>

      <mat-card-title>Login</mat-card-title>
      
      <form>

	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>E-mail address</mat-label>
	    <input matInput [(ngModel)]="username" name="username">
	  </mat-form-field>
	</div>

	<div *ngIf="state == 'normal'">
	  <mat-form-field appearance="fill">
	    <mat-label>Password</mat-label>
	    <input matInput type="password" [(ngModel)]="password" name="password">
	  </mat-form-field>
	</div>

	<div class="center">
	  <button (click)="submit()"
		  mat-raised-button color="primary">
	    Login
	  </button>
	</div>

	<div class="center">
	  <button mat-raised-button color="basic" (click)="forgottenPassword()">
	    Forgotten password?
	  </button>
	</div>

	<div class="center">
	  <button mat-raised-button color="basic" (click)="begin_register()">
	    Register new account
	  </button>
	</div>

      </form>

    </mat-card>

  </div>

  <div *ngIf="state == 'registering'">

    <mat-card>

      <mat-card-title>Register new user account</mat-card-title>

      <form>

	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>E-mail address</mat-label>
	    <input matInput [(ngModel)]="username" name="username">
	  </mat-form-field>
	</div>

	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>Password</mat-label>
	    <input matInput type="password" [(ngModel)]="password" name="password">
	  </mat-form-field>
	</div>

	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>First name</mat-label>
	    <input matInput [(ngModel)]="firstname" name="firstname">
	  </mat-form-field>
	</div>

	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>Last name</mat-label>
	    <input matInput [(ngModel)]="lastname" name="lastname">
	  </mat-form-field>
	</div>

	<div class="center">
	  <button mat-raised-button color="primary" (click)="register()">
	    Register
	  </button>
	</div>

	<div class="center">
	  <a mat-raised-button (click)="normal()">
	    Back to login
	  </a>
	</div>

      </form>

    </mat-card>

  </div>

  <div *ngIf="state == 'forgotten'">

    <mat-card>

      <mat-card-title>Send password reset</mat-card-title>

      <form>
	
	<div>
	  <mat-form-field appearance="fill">
	    <mat-label>E-mail address</mat-label>
	    <input matInput [(ngModel)]="username" name="username">
	  </mat-form-field>
	</div>

	<div class="center">

	  <button (click)="send_reset()"
		  mat-raised-button color="primary">
	    Reset
	  </button>

	</div>

	<div class="center">
	  

	  <a mat-raised-button (click)="normal()">
	    Back to login
	  </a>

	</div>

      </form>

    </mat-card>

  </div>

</div>


