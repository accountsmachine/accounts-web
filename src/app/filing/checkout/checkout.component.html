
<ng-container *ngIf="state == 'company' && company != null">

  <h1>Company</h1>
  <div>Company: {{company.company_name}}</div>
  <div>Company: {{company.company_number}}</div>

  <div *ngFor="let option of options">
    <mat-card>
      <mat-card-title>{{option.kind | uppercase}}</mat-card-title>
      <div>Valid from: {{option.opened | date}}</div>
      <div>Valid to: {{option.expires | date}}</div>
      <div>Covers:
	<span *ngFor="let p of option.provides">{{p}}, </span>
      </div>
      <button mat-button (click)="select_subscription(option)">
	Choose
      </button>
    </mat-card>
  </div>

</ng-container>

<ng-container
  *ngIf="state == 'subscription' && company != null && selected_subscription != null">
  <h1>Subscription</h1>
  <div>Company: {{company.company_name}}</div>
  <div>Company: {{company.company_number}}</div>
  <div>Valid from: {{selected_subscription.opened | date}}</div>
  <div>Valid to: {{selected_subscription.expires | date}}</div>
  <div>Covers:
    <span *ngFor="let p of selected_subscription.provides">{{p}}, </span>
  </div>
  <button mat-button (click)="checkout()">
    Add to basket
  </button>
  <button mat-button (click)="checkout()">
    Checkout
  </button>
  <button mat-button (click)="back()">
    Back
  </button>
</ng-container>
